"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const os = require('os');
const path = require('path');
const { readFileSync } = require('fs');
class AWSLoader {
    loadData(aws_variable) {
        const awsDir = path.join(path.join(os.homedir(), '.aws'), 'credentials');
        let fileContents = readFileSync(awsDir, 'utf-8').split('\n');
        for (const content of fileContents) {
            if (content.startsWith(aws_variable)) {
                return content.split('=', 2)[1];
            }
        }
        const msg = `Cannot find any AWS CREDENTIAL named ${aws_variable}`;
        throw Error(msg);
    }
}
exports.default = AWSLoader;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQXdzTG9hZGVyLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiQXdzTG9hZGVyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBQ0EsTUFBTSxFQUFFLEdBQUcsT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDO0FBQ3pCLE1BQU0sSUFBSSxHQUFHLE9BQU8sQ0FBQyxNQUFNLENBQUMsQ0FBQztBQUM3QixNQUFNLEVBQUUsWUFBWSxFQUFFLEdBQUcsT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDO0FBRXZDLE1BQXFCLFNBQVM7SUFDckIsUUFBUSxDQUFDLFlBQW9CO1FBQ2xDLE1BQU0sTUFBTSxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsT0FBTyxFQUFFLEVBQUUsTUFBTSxDQUFDLEVBQUUsYUFBYSxDQUFDLENBQUM7UUFFekUsSUFBSSxZQUFZLEdBQWEsWUFBWSxDQUFDLE1BQU0sRUFBRSxPQUFPLENBQUMsQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDdkUsS0FBSyxNQUFNLE9BQU8sSUFBSSxZQUFZLEVBQUU7WUFDbEMsSUFBSSxPQUFPLENBQUMsVUFBVSxDQUFDLFlBQVksQ0FBQyxFQUFFO2dCQUNwQyxPQUFPLE9BQU8sQ0FBQyxLQUFLLENBQUMsR0FBRyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO2FBQ2pDO1NBQ0Y7UUFFRCxNQUFNLEdBQUcsR0FBRyx3Q0FBd0MsWUFBWSxFQUFFLENBQUM7UUFDbkUsTUFBTSxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUM7SUFDbkIsQ0FBQztDQUNGO0FBZEQsNEJBY0MiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgQmFzZUxvYWRlciBmcm9tICcuL0Jhc2VMb2FkZXInO1xuY29uc3Qgb3MgPSByZXF1aXJlKCdvcycpO1xuY29uc3QgcGF0aCA9IHJlcXVpcmUoJ3BhdGgnKTtcbmNvbnN0IHsgcmVhZEZpbGVTeW5jIH0gPSByZXF1aXJlKCdmcycpO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBBV1NMb2FkZXIgaW1wbGVtZW50cyBCYXNlTG9hZGVyIHtcbiAgcHVibGljIGxvYWREYXRhKGF3c192YXJpYWJsZTogc3RyaW5nKTogc3RyaW5nIHtcbiAgICBjb25zdCBhd3NEaXIgPSBwYXRoLmpvaW4ocGF0aC5qb2luKG9zLmhvbWVkaXIoKSwgJy5hd3MnKSwgJ2NyZWRlbnRpYWxzJyk7XG5cbiAgICBsZXQgZmlsZUNvbnRlbnRzOiBzdHJpbmdbXSA9IHJlYWRGaWxlU3luYyhhd3NEaXIsICd1dGYtOCcpLnNwbGl0KCdcXG4nKTtcbiAgICBmb3IgKGNvbnN0IGNvbnRlbnQgb2YgZmlsZUNvbnRlbnRzKSB7XG4gICAgICBpZiAoY29udGVudC5zdGFydHNXaXRoKGF3c192YXJpYWJsZSkpIHtcbiAgICAgICAgcmV0dXJuIGNvbnRlbnQuc3BsaXQoJz0nLCAyKVsxXTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zdCBtc2cgPSBgQ2Fubm90IGZpbmQgYW55IEFXUyBDUkVERU5USUFMIG5hbWVkICR7YXdzX3ZhcmlhYmxlfWA7XG4gICAgdGhyb3cgRXJyb3IobXNnKTtcbiAgfVxufVxuIl19
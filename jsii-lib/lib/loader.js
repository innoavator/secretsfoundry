"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const os = require('os');
const path = require('path');
const { readFileSync } = require('fs');
class Loader {
    loadData(key, path) {
        key = key.toLowerCase();
        switch (key) {
            case 'env':
                return process.env[path];
            case 'aws':
                return this.loadAWSData(path);
            case 's3':
                return 'hello';
            case 'ssm':
                return '';
            default:
                return 'Hello';
        }
    }
    loadAWSData(aws_variable) {
        console.log(aws_variable);
        const awsDir = path.join(path.join(os.homedir(), '.aws'), 'credentials');
        let fileContents = readFileSync(awsDir, 'utf-8').split('\n');
        for (const content of fileContents) {
            if (content.startsWith(aws_variable)) {
                return content.split('=', 2)[1];
            }
        }
        const msg = `Cannot find any AWS CREDENTIAL named ${aws_variable}`;
        throw Error(msg);
    }
}
exports.default = Loader;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibG9hZGVyLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsibG9hZGVyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBQUEsTUFBTSxFQUFFLEdBQUcsT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDO0FBQ3pCLE1BQU0sSUFBSSxHQUFHLE9BQU8sQ0FBQyxNQUFNLENBQUMsQ0FBQztBQUM3QixNQUFNLEVBQUUsWUFBWSxFQUFFLEdBQUcsT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDO0FBRXZDLE1BQXFCLE1BQU07SUFDbEIsUUFBUSxDQUFDLEdBQVcsRUFBRSxJQUFZO1FBQ3ZDLEdBQUcsR0FBRyxHQUFHLENBQUMsV0FBVyxFQUFFLENBQUM7UUFDeEIsUUFBUSxHQUFHLEVBQUU7WUFDWCxLQUFLLEtBQUs7Z0JBQ1IsT0FBTyxPQUFPLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxDQUFDO1lBQzNCLEtBQUssS0FBSztnQkFDUixPQUFPLElBQUksQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDLENBQUM7WUFDaEMsS0FBSyxJQUFJO2dCQUNQLE9BQU8sT0FBTyxDQUFDO1lBQ2pCLEtBQUssS0FBSztnQkFDUixPQUFPLEVBQUUsQ0FBQztZQUNaO2dCQUNFLE9BQU8sT0FBTyxDQUFDO1NBQ2xCO0lBQ0gsQ0FBQztJQUVPLFdBQVcsQ0FBQyxZQUFvQjtRQUN0QyxPQUFPLENBQUMsR0FBRyxDQUFDLFlBQVksQ0FBQyxDQUFDO1FBQzFCLE1BQU0sTUFBTSxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsT0FBTyxFQUFFLEVBQUUsTUFBTSxDQUFDLEVBQUUsYUFBYSxDQUFDLENBQUM7UUFFekUsSUFBSSxZQUFZLEdBQWEsWUFBWSxDQUFDLE1BQU0sRUFBRSxPQUFPLENBQUMsQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDdkUsS0FBSyxNQUFNLE9BQU8sSUFBSSxZQUFZLEVBQUU7WUFDbEMsSUFBSSxPQUFPLENBQUMsVUFBVSxDQUFDLFlBQVksQ0FBQyxFQUFFO2dCQUNwQyxPQUFPLE9BQU8sQ0FBQyxLQUFLLENBQUMsR0FBRyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO2FBQ2pDO1NBQ0Y7UUFFRCxNQUFNLEdBQUcsR0FBRyx3Q0FBd0MsWUFBWSxFQUFFLENBQUM7UUFDbkUsTUFBTSxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUM7SUFDbkIsQ0FBQztDQUNGO0FBL0JELHlCQStCQyIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IG9zID0gcmVxdWlyZSgnb3MnKTtcbmNvbnN0IHBhdGggPSByZXF1aXJlKCdwYXRoJyk7XG5jb25zdCB7IHJlYWRGaWxlU3luYyB9ID0gcmVxdWlyZSgnZnMnKTtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTG9hZGVyIHtcbiAgcHVibGljIGxvYWREYXRhKGtleTogc3RyaW5nLCBwYXRoOiBzdHJpbmcpOiBhbnkge1xuICAgIGtleSA9IGtleS50b0xvd2VyQ2FzZSgpO1xuICAgIHN3aXRjaCAoa2V5KSB7XG4gICAgICBjYXNlICdlbnYnOlxuICAgICAgICByZXR1cm4gcHJvY2Vzcy5lbnZbcGF0aF07XG4gICAgICBjYXNlICdhd3MnOlxuICAgICAgICByZXR1cm4gdGhpcy5sb2FkQVdTRGF0YShwYXRoKTtcbiAgICAgIGNhc2UgJ3MzJzpcbiAgICAgICAgcmV0dXJuICdoZWxsbyc7XG4gICAgICBjYXNlICdzc20nOlxuICAgICAgICByZXR1cm4gJyc7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4gJ0hlbGxvJztcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGxvYWRBV1NEYXRhKGF3c192YXJpYWJsZTogc3RyaW5nKTogc3RyaW5nIHtcbiAgICBjb25zb2xlLmxvZyhhd3NfdmFyaWFibGUpO1xuICAgIGNvbnN0IGF3c0RpciA9IHBhdGguam9pbihwYXRoLmpvaW4ob3MuaG9tZWRpcigpLCAnLmF3cycpLCAnY3JlZGVudGlhbHMnKTtcblxuICAgIGxldCBmaWxlQ29udGVudHM6IHN0cmluZ1tdID0gcmVhZEZpbGVTeW5jKGF3c0RpciwgJ3V0Zi04Jykuc3BsaXQoJ1xcbicpO1xuICAgIGZvciAoY29uc3QgY29udGVudCBvZiBmaWxlQ29udGVudHMpIHtcbiAgICAgIGlmIChjb250ZW50LnN0YXJ0c1dpdGgoYXdzX3ZhcmlhYmxlKSkge1xuICAgICAgICByZXR1cm4gY29udGVudC5zcGxpdCgnPScsIDIpWzFdO1xuICAgICAgfVxuICAgIH1cblxuICAgIGNvbnN0IG1zZyA9IGBDYW5ub3QgZmluZCBhbnkgQVdTIENSRURFTlRJQUwgbmFtZWQgJHthd3NfdmFyaWFibGV9YDtcbiAgICB0aHJvdyBFcnJvcihtc2cpO1xuICB9XG59XG4iXX0=